{"ast":null,"code":"import _toConsumableArray from\"/Users/zhangjiahao/Starlink/starlink/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/zhangjiahao/Starlink/starlink/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/zhangjiahao/Starlink/starlink/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/zhangjiahao/Starlink/starlink/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/zhangjiahao/Starlink/starlink/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/zhangjiahao/Starlink/starlink/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Row,Col}from'antd';import axios from'axios';import{BASE_URL,NEARBY_SATELLITE,SAT_API_KEY,STARLINK_CATEGORY}from'./constants';import SatSetting from'./SatSetting';import SatelliteList from'./SatelliteList';import WorldMap from'./WorldMap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(){var _this;_classCallCheck(this,Main);_this=_super.call(this);_this.showMap=function(selected){_this.setState(function(preState){return _objectSpread(_objectSpread({},preState),{},{satList:_toConsumableArray(selected)});});};_this.showNearbySatellite=function(setting){_this.setState({isLoadingList:true,setting:setting});_this.fetchSatellite(setting);};_this.fetchSatellite=function(setting){var latitude=setting.latitude,longitude=setting.longitude,elevation=setting.elevation,altitude=setting.altitude;var url=\"\".concat(BASE_URL,\"/api/\").concat(NEARBY_SATELLITE,\"/\").concat(latitude,\"/\").concat(longitude,\"/\").concat(elevation,\"/\").concat(altitude,\"/\").concat(STARLINK_CATEGORY,\"/&apiKey=\").concat(SAT_API_KEY);_this.setState({isLoadingList:true});axios.get(url).then(function(response){console.log(response.data);_this.setState({satInfo:response.data,isLoadingList:false});}).catch(function(error){console.log('err in fetch satellite -> ',error);});};_this.state={satInfo:null,satList:null,setting:null,isLoadingList:false};return _this;}_createClass(Main,[{key:\"render\",value:function render(){var _this$state=this.state,isLoadingList=_this$state.isLoadingList,satInfo=_this$state.satInfo,satList=_this$state.satList,setting=_this$state.setting;return/*#__PURE__*/_jsxs(Row,{className:\"main\",children:[/*#__PURE__*/_jsxs(Col,{span:8,className:\"left-side\",children:[/*#__PURE__*/_jsx(SatSetting,{onShow:this.showNearbySatellite}),/*#__PURE__*/_jsx(SatelliteList,{isLoad:isLoadingList,satInfo:satInfo,onShowMap:this.showMap})]}),/*#__PURE__*/_jsx(Col,{span:16,className:\"right-side\",children:/*#__PURE__*/_jsx(WorldMap,{satData:satList,observerData:setting})})]});}}]);return Main;}(Component);export default Main;","map":{"version":3,"sources":["/Users/zhangjiahao/Starlink/starlink/src/components/Main.js"],"names":["React","Component","Row","Col","axios","BASE_URL","NEARBY_SATELLITE","SAT_API_KEY","STARLINK_CATEGORY","SatSetting","SatelliteList","WorldMap","Main","showMap","selected","setState","preState","satList","showNearbySatellite","setting","isLoadingList","fetchSatellite","latitude","longitude","elevation","altitude","url","get","then","response","console","log","data","satInfo","catch","error","state"],"mappings":"mtBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAASC,GAAT,CAAcC,GAAd,KAAyB,MAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,gBAAnB,CAAqCC,WAArC,CAAkDC,iBAAlD,KAA2E,aAA3E,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,C,2FAEMC,CAAAA,I,4FACF,eAAa,sCACT,wBADS,MA0BbC,OA1Ba,CA0BH,SAACC,QAAD,CAAc,CACpB,MAAKC,QAAL,CAAc,SAAAC,QAAQ,wCACfA,QADe,MAElBC,OAAO,oBAAMH,QAAN,CAFW,IAAtB,EAIH,CA/BY,OAiCbI,mBAjCa,CAiCS,SAACC,OAAD,CAAa,CAC/B,MAAKJ,QAAL,CAAc,CACVK,aAAa,CAAE,IADL,CAEVD,OAAO,CAAEA,OAFC,CAAd,EAIA,MAAKE,cAAL,CAAoBF,OAApB,EACH,CAvCY,OAyCbE,cAzCa,CAyCG,SAACF,OAAD,CAAa,CACzB,GAAOG,CAAAA,QAAP,CAAmDH,OAAnD,CAAOG,QAAP,CAAiBC,SAAjB,CAAmDJ,OAAnD,CAAiBI,SAAjB,CAA4BC,SAA5B,CAAmDL,OAAnD,CAA4BK,SAA5B,CAAuCC,QAAvC,CAAmDN,OAAnD,CAAuCM,QAAvC,CACA,GAAMC,CAAAA,GAAG,WAAMrB,QAAN,iBAAuBC,gBAAvB,aAA2CgB,QAA3C,aAAuDC,SAAvD,aAAoEC,SAApE,aAAiFC,QAAjF,aAA6FjB,iBAA7F,qBAA0HD,WAA1H,CAAT,CAEA,MAAKQ,QAAL,CAAc,CACVK,aAAa,CAAE,IADL,CAAd,EAIAhB,KAAK,CAACuB,GAAN,CAAUD,GAAV,EACKE,IADL,CACU,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACA,MAAKjB,QAAL,CAAc,CACVkB,OAAO,CAAEJ,QAAQ,CAACG,IADR,CAEVZ,aAAa,CAAE,KAFL,CAAd,EAIH,CAPL,EAQKc,KARL,CAQW,SAAAC,KAAK,CAAI,CACZL,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAA0CI,KAA1C,EACH,CAVL,EAWH,CA5DY,CAET,MAAKC,KAAL,CAAa,CACTH,OAAO,CAAE,IADA,CAEThB,OAAO,CAAE,IAFA,CAGTE,OAAO,CAAE,IAHA,CAITC,aAAa,CAAE,KAJN,CAAb,CAFS,aAQZ,C,uCACD,iBAAS,CACL,gBAAqD,KAAKgB,KAA1D,CAAQhB,aAAR,aAAQA,aAAR,CAAuBa,OAAvB,aAAuBA,OAAvB,CAAgChB,OAAhC,aAAgCA,OAAhC,CAAyCE,OAAzC,aAAyCA,OAAzC,CACA,mBACI,MAAC,GAAD,EAAK,SAAS,CAAC,MAAf,wBACI,MAAC,GAAD,EAAK,IAAI,CAAE,CAAX,CAAc,SAAS,CAAC,WAAxB,wBACI,KAAC,UAAD,EAAY,MAAM,CAAE,KAAKD,mBAAzB,EADJ,cAEI,KAAC,aAAD,EAAe,MAAM,CAAEE,aAAvB,CACe,OAAO,CAAEa,OADxB,CAEe,SAAS,CAAE,KAAKpB,OAF/B,EAFJ,GADJ,cAOI,KAAC,GAAD,EAAK,IAAI,CAAE,EAAX,CAAe,SAAS,CAAC,YAAzB,uBACI,KAAC,QAAD,EAAU,OAAO,CAAEI,OAAnB,CAA4B,YAAY,CAAEE,OAA1C,EADJ,EAPJ,GADJ,CAaH,C,kBAzBclB,S,EA+DnB,cAAeW,CAAAA,IAAf","sourcesContent":["import React, {Component} from 'react';\nimport { Row, Col } from 'antd';\nimport axios from 'axios';\nimport { BASE_URL, NEARBY_SATELLITE, SAT_API_KEY, STARLINK_CATEGORY } from './constants';\nimport SatSetting from './SatSetting';\nimport SatelliteList from './SatelliteList';\nimport WorldMap from './WorldMap';\n\nclass Main extends Component {\n    constructor(){\n        super();\n        this.state = {\n            satInfo: null,\n            satList: null,\n            setting: null,\n            isLoadingList: false\n        }\n    }\n    render() {\n        const { isLoadingList, satInfo, satList, setting } = this.state;\n        return (\n            <Row className='main'>\n                <Col span={8} className=\"left-side\">\n                    <SatSetting onShow={this.showNearbySatellite}/>\n                    <SatelliteList isLoad={isLoadingList}\n                                   satInfo={satInfo}\n                                   onShowMap={this.showMap} />\n                </Col>\n                <Col span={16} className=\"right-side\">\n                    <WorldMap satData={satList} observerData={setting} />\n                </Col>\n            </Row>\n        );\n    }\n\n    showMap = (selected) => {\n        this.setState(preState => ({\n            ...preState,\n            satList: [...selected]\n        }))\n    }\n\n    showNearbySatellite = (setting) => {\n        this.setState({\n            isLoadingList: true,\n            setting: setting\n        })\n        this.fetchSatellite(setting);\n    }\n\n    fetchSatellite= (setting) => {\n        const {latitude, longitude, elevation, altitude} = setting;\n        const url = `${BASE_URL }/api/${NEARBY_SATELLITE}/${latitude}/${longitude}/${elevation}/${altitude}/${STARLINK_CATEGORY}/&apiKey=${SAT_API_KEY}`;\n\n        this.setState({\n            isLoadingList: true\n        });\n\n        axios.get(url)\n            .then(response => {\n                console.log(response.data)\n                this.setState({\n                    satInfo: response.data,\n                    isLoadingList: false\n                })\n            })\n            .catch(error => {\n                console.log('err in fetch satellite -> ', error);\n            })\n    }\n}\nexport default Main;\n\n"]},"metadata":{},"sourceType":"module"}